"use strict";exports.id=56,exports.ids=[56],exports.modules={2056:(e,t,r)=>{r.r(t),r.d(t,{Browser:()=>g,BrowserContext:()=>l,Connection:()=>N,Page:()=>w});var s,o,i=r(3278),a=r(716),n=r(6400),c=function(e,t,r,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,r):o?o.value=r:t.set(e,r),r},h=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};class w extends n.T3{constructor(e,t){super(),s.set(this,void 0),o.set(this,void 0),c(this,s,e,"f"),c(this,o,t,"f")}async close(){await h(this,s,"f").send("browsingContext.close",{context:h(this,o,"f")})}async evaluate(e,...t){const r=`(${e.toString()})()`;return(await h(this,s,"f").send("script.evaluate",{expression:r,target:{context:h(this,o,"f")},awaitPromise:!0})).result.value}}s=new WeakMap,o=new WeakMap;var f,d=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};class l extends a._{constructor(e){super(),f.set(this,void 0),function(e,t,r,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?o.call(e,r):o?o.value=r:t.set(e,r)}(this,f,e,"f")}async newPage(){const e=await d(this,f,"f").send("browsingContext.create",{type:"tab"});return new w(d(this,f,"f"),e.context)}async close(){}}f=new WeakMap;var u,p,v,m=function(e,t,r,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,r):o?o.value=r:t.set(e,r),r},y=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};class g extends i.A{constructor(e){super(),u.set(this,void 0),p.set(this,void 0),v.set(this,void 0),m(this,u,e.process,"f"),m(this,p,e.closeCallback,"f"),m(this,v,e.connection,"f")}static async create(e){return await e.connection.send("session.new",{}),new g(e)}async close(){var e;await(null===(e=y(this,p,"f"))||void 0===e?void 0:e.call(null)),y(this,v,"f").dispose()}isConnected(){return!y(this,v,"f").closed}process(){var e;return null!==(e=y(this,u,"f"))&&void 0!==e?e:null}async createIncognitoBrowserContext(e){return new l(y(this,v,"f"))}}u=new WeakMap,p=new WeakMap,v=new WeakMap;var b,E,T,P,C,M,k,x=r(7120),W=r(4288),j=r(5816),$=function(e,t,r,s,o){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?o.call(e,r):o?o.value=r:t.set(e,r),r},B=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};const D=(0,x.f)("puppeteer:webDriverBiDi:SEND ►"),S=(0,x.f)("puppeteer:webDriverBiDi:RECV ◀");class N extends W.v{constructor(e,t=0){super(),b.add(this),E.set(this,void 0),T.set(this,void 0),P.set(this,0),C.set(this,!1),M.set(this,new Map),$(this,T,t,"f"),$(this,E,e,"f"),B(this,E,"f").onmessage=this.onMessage.bind(this),B(this,E,"f").onclose=B(this,b,"m",k).bind(this)}get closed(){return B(this,C,"f")}send(e,t){var r;const s=$(this,P,(r=B(this,P,"f"),++r),"f"),o=JSON.stringify({id:s,method:e,params:t});return D(o),B(this,E,"f").send(o),new Promise(((t,r)=>{B(this,M,"f").set(s,{resolve:t,reject:r,error:new j.K1,method:e})}))}async onMessage(e){B(this,T,"f")&&await new Promise((e=>setTimeout(e,B(this,T,"f")))),S(e);const t=JSON.parse(e);if("id"in t){const e=B(this,M,"f").get(t.id);e&&(B(this,M,"f").delete(t.id),"error"in t?e.reject(function(e,t,r){let s=`Protocol error (${t}): ${r.error} ${r.message}`;return r.stacktrace&&(s+=` ${r.stacktrace}`),J(e,s,r.message)}(e.error,e.method,t)):e.resolve(t.result))}else this.emit(t.method,t.params)}dispose(){B(this,b,"m",k).call(this),B(this,E,"f").close()}}function J(e,t,r){return e.message=t,e.originalMessage=null!=r?r:e.originalMessage,e}E=new WeakMap,T=new WeakMap,P=new WeakMap,C=new WeakMap,M=new WeakMap,b=new WeakSet,k=function(){if(!B(this,C,"f")){$(this,C,!0,"f"),B(this,E,"f").onmessage=void 0,B(this,E,"f").onclose=void 0;for(const e of B(this,M,"f").values())e.reject(J(e.error,`Protocol error (${e.method}): Connection closed.`));B(this,M,"f").clear()}}}};